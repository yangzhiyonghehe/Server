(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae963a6c"],{"09f4":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,n,i){return e/=i/2,e<1?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function a(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,n){var o=s(),r=e-o,l=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=l;var s=Math.easeInOutQuad(c,o,r,t);a(s),c<t?i(e):n&&"function"===typeof n&&n()};u()}},"221f":function(e,t,n){},"2f21":function(e,t,n){"use strict";var i=n("79e5");e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},3123:function(e,t,n){"use strict";n("7f7f");var i=n("b775"),a=n("bc3a"),s=n.n(a),o=n("5c96"),r=s.a.create({baseURL:"/api/management",timeout:5e3});r.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)}));var l=r,c=n("69a0"),u=n.n(c);function d(e){return new Promise((function(t,n){var i=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,a=new FileReader,s=2097152,o=Math.ceil(e.size/s),r=0,l=new u.a;function c(){var t=r*s,n=t+s>=e.size?e.size:t+s;a.readAsBinaryString(i.call(e,t,n))}a.onload=function(e){l.appendBinary(e.target.result),r++,r<o?c():t(l.end())},a.onerror=function(){n("FileReader error.")},c()}))}var p=n("7f6d");function m(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(i["a"])({url:"/qiniu/token",method:"get",params:{filename:e,original:t}})}function f(e){return Object(i["a"])({url:"/qiniu/upload",method:"post",data:e,timeout:6e4})}function h(e){return l({url:"http:"===window.location.protocol?"http://up.qiniu.com/":"https://up.qbox.me/",method:"post",data:e,timeout:6e4})}function v(e){return"LAN"===p["a"]?y(e):new Promise((function(t,n){d(e).then((function(a){Object(i["a"])({url:"/qiniu/md5file",method:"get",params:{hash:a}}).then((function(n){var s=n.data;s["hashfile"]?t(s["url"]):b(e,!0).then((function(e){setTimeout((function(){Object(i["a"])({url:"/qiniu/savecache",method:"post",data:{hash:a,url:e}})}),1),t(e)}))})).catch((function(e){n(e)}))})).catch((function(e){n(e)}))}))}function b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"LAN"===p["a"]?y(e):new Promise((function(n,i){m(e.name,t).then((function(t){var a=t.data.qiniu_url,s=new FormData;s.append("token",t.data.qiniu_token),s.append("key",t.data.qiniu_key),s.append("file",e),h(s).then((function(){n(a)})).catch((function(e){i("上传失败了，请重试")}))})).catch((function(e){i("出现未知问题，刷新页面，或联系管理员")}))}))}function y(e){return new Promise((function(t,n){var i=new FormData;i.append("file",e),f(i).then((function(e){t(e.url)})).catch((function(e){n("上传失败了，请重试")}))}))}n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b}))},"3f6e":function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return m}));var i=n("b775");function a(e){return Object(i["a"])({url:"/person/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/person/update",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/person/create",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/person/delete",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/person/personSelectedDevice",method:"post",params:e})}function c(e){return Object(i["a"])({url:"/person/personOrgOptions",method:"post",params:e})}function u(e){return Object(i["a"])({url:"/person/sync",method:"post",hiddenMsg:!0,data:e})}function d(e){return Object(i["a"])({url:"/person/bindAdmin",method:"post",data:e})}function p(e){return Object(i["a"])({url:"/person/unbind",method:"post",data:{company_id:e}})}function m(e){return Object(i["a"])({url:"/person/fetchAdmin",method:"post",data:e})}},"55dd":function(e,t,n){"use strict";var i=n("5ca1"),a=n("d8e8"),s=n("4bf8"),o=n("79e5"),r=[].sort,l=[1,2,3];i(i.P+i.F*(o((function(){l.sort(void 0)}))||!o((function(){l.sort(null)}))||!n("2f21")(r)),"Array",{sort:function(e){return void 0===e?r.call(s(this)):r.call(s(this),a(e))}})},6724:function(e,t,n){"use strict";n("8d41");var i="@@wavesContext";function a(e,t){function n(n){var i=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},i),s=a.ele;if(s){s.style.position="relative",s.style.overflow="hidden";var o=s.getBoundingClientRect(),r=s.querySelector(".waves-ripple");switch(r?r.className="waves-ripple":(r=document.createElement("span"),r.className="waves-ripple",r.style.height=r.style.width=Math.max(o.width,o.height)+"px",s.appendChild(r)),a.type){case"center":r.style.top=o.height/2-r.offsetHeight/2+"px",r.style.left=o.width/2-r.offsetWidth/2+"px";break;default:r.style.top=(n.pageY-o.top-r.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",r.style.left=(n.pageX-o.left-r.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return r.style.backgroundColor=a.color,r.className="waves-ripple z-active",!1}}return e[i]?e[i].removeHandle=n:e[i]={removeHandle:n},n}var s={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[i].removeHandle,!1),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[i].removeHandle,!1),e[i]=null,delete e[i]}},o=function(e){e.directive("waves",s)};window.Vue&&(window.waves=s,Vue.use(o)),s.install=o;t["a"]=s},"69a0":function(e,t,n){(function(t){e.exports=t()})((function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],a=e[2],s=e[3];n+=(i&a|~i&s)+t[0]-680876936|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&a)+t[1]-389564586|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&i)+t[2]+606105819|0,a=(a<<17|a>>>15)+s|0,i+=(a&s|~a&n)+t[3]-1044525330|0,i=(i<<22|i>>>10)+a|0,n+=(i&a|~i&s)+t[4]-176418897|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&a)+t[5]+1200080426|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&i)+t[6]-1473231341|0,a=(a<<17|a>>>15)+s|0,i+=(a&s|~a&n)+t[7]-45705983|0,i=(i<<22|i>>>10)+a|0,n+=(i&a|~i&s)+t[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&a)+t[9]-1958414417|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&i)+t[10]-42063|0,a=(a<<17|a>>>15)+s|0,i+=(a&s|~a&n)+t[11]-1990404162|0,i=(i<<22|i>>>10)+a|0,n+=(i&a|~i&s)+t[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,s+=(n&i|~n&a)+t[13]-40341101|0,s=(s<<12|s>>>20)+n|0,a+=(s&n|~s&i)+t[14]-1502002290|0,a=(a<<17|a>>>15)+s|0,i+=(a&s|~a&n)+t[15]+1236535329|0,i=(i<<22|i>>>10)+a|0,n+=(i&s|a&~s)+t[1]-165796510|0,n=(n<<5|n>>>27)+i|0,s+=(n&a|i&~a)+t[6]-1069501632|0,s=(s<<9|s>>>23)+n|0,a+=(s&i|n&~i)+t[11]+643717713|0,a=(a<<14|a>>>18)+s|0,i+=(a&n|s&~n)+t[0]-373897302|0,i=(i<<20|i>>>12)+a|0,n+=(i&s|a&~s)+t[5]-701558691|0,n=(n<<5|n>>>27)+i|0,s+=(n&a|i&~a)+t[10]+38016083|0,s=(s<<9|s>>>23)+n|0,a+=(s&i|n&~i)+t[15]-660478335|0,a=(a<<14|a>>>18)+s|0,i+=(a&n|s&~n)+t[4]-405537848|0,i=(i<<20|i>>>12)+a|0,n+=(i&s|a&~s)+t[9]+568446438|0,n=(n<<5|n>>>27)+i|0,s+=(n&a|i&~a)+t[14]-1019803690|0,s=(s<<9|s>>>23)+n|0,a+=(s&i|n&~i)+t[3]-187363961|0,a=(a<<14|a>>>18)+s|0,i+=(a&n|s&~n)+t[8]+1163531501|0,i=(i<<20|i>>>12)+a|0,n+=(i&s|a&~s)+t[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,s+=(n&a|i&~a)+t[2]-51403784|0,s=(s<<9|s>>>23)+n|0,a+=(s&i|n&~i)+t[7]+1735328473|0,a=(a<<14|a>>>18)+s|0,i+=(a&n|s&~n)+t[12]-1926607734|0,i=(i<<20|i>>>12)+a|0,n+=(i^a^s)+t[5]-378558|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^a)+t[8]-2022574463|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^i)+t[11]+1839030562|0,a=(a<<16|a>>>16)+s|0,i+=(a^s^n)+t[14]-35309556|0,i=(i<<23|i>>>9)+a|0,n+=(i^a^s)+t[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^a)+t[4]+1272893353|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^i)+t[7]-155497632|0,a=(a<<16|a>>>16)+s|0,i+=(a^s^n)+t[10]-1094730640|0,i=(i<<23|i>>>9)+a|0,n+=(i^a^s)+t[13]+681279174|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^a)+t[0]-358537222|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^i)+t[3]-722521979|0,a=(a<<16|a>>>16)+s|0,i+=(a^s^n)+t[6]+76029189|0,i=(i<<23|i>>>9)+a|0,n+=(i^a^s)+t[9]-640364487|0,n=(n<<4|n>>>28)+i|0,s+=(n^i^a)+t[12]-421815835|0,s=(s<<11|s>>>21)+n|0,a+=(s^n^i)+t[15]+530742520|0,a=(a<<16|a>>>16)+s|0,i+=(a^s^n)+t[2]-995338651|0,i=(i<<23|i>>>9)+a|0,n+=(a^(i|~s))+t[0]-198630844|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~a))+t[7]+1126891415|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~i))+t[14]-1416354905|0,a=(a<<15|a>>>17)+s|0,i+=(s^(a|~n))+t[5]-57434055|0,i=(i<<21|i>>>11)+a|0,n+=(a^(i|~s))+t[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~a))+t[3]-1894986606|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~i))+t[10]-1051523|0,a=(a<<15|a>>>17)+s|0,i+=(s^(a|~n))+t[1]-2054922799|0,i=(i<<21|i>>>11)+a|0,n+=(a^(i|~s))+t[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~a))+t[15]-30611744|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~i))+t[6]-1560198380|0,a=(a<<15|a>>>17)+s|0,i+=(s^(a|~n))+t[13]+1309151649|0,i=(i<<21|i>>>11)+a|0,n+=(a^(i|~s))+t[4]-145523070|0,n=(n<<6|n>>>26)+i|0,s+=(i^(n|~a))+t[11]-1120210379|0,s=(s<<10|s>>>22)+n|0,a+=(n^(s|~i))+t[2]+718787259|0,a=(a<<15|a>>>17)+s|0,i+=(s^(a|~n))+t[9]-343485551|0,i=(i<<21|i>>>11)+a|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=a+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function a(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,a,s,o,r,l,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(u,i(e.substring(t-64,t)));for(e=e.substring(t-64),a=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<a;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),l=parseInt(o[1],16)||0,s[14]=r,s[15]=l,n(u,s),u}function o(e){var t,i,s,o,r,l,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(u,a(e.subarray(t-64,t)));for(e=t-64<c?e.subarray(t-64):new Uint8Array(0),i=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=8*c,o=o.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),l=parseInt(o[1],16)||0,s[14]=r,s[15]=l,n(u,s),u}function r(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function l(e){var t;for(t=0;t<e.length;t+=1)e[t]=r(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var n,i=e.length,a=new ArrayBuffer(i),s=new Uint8Array(a);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:a}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function p(e,t,n){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e)),i.set(new Uint8Array(t),e.byteLength),n?i:i.buffer}function m(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function f(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==l(s("hello"))&&function(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return e=0|e||0,e<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var a,s,o,r,l=this.byteLength,c=t(n,l),u=l;return i!==e&&(u=t(i,l)),c>u?new ArrayBuffer(0):(a=u-c,s=new ArrayBuffer(a),o=new Uint8Array(s),r=new Uint8Array(this,c,a),o.set(r),s)}}(),f.prototype.append=function(e){return this.appendBinary(c(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,a=this._buff.length;for(t=64;t<=a;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,n,i=this._buff,a=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,a),n=l(this._hash),e&&(n=m(n)),this.reset(),n},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var i,a,s,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;i=8*this._length,i=i.toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=a,e[15]=s,n(this._hash,e)},f.hash=function(e,t){return f.hashBinary(c(e),t)},f.hashBinary=function(e,t){var n=s(e),i=l(n);return t?m(i):i},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,i=p(this._buff.buffer,e,!0),s=i.length;for(this._length+=e.byteLength,t=64;t<=s;t+=64)n(this._hash,a(i.subarray(t-64,t)));return this._buff=t-64<s?new Uint8Array(i.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,a=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<a;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,a),n=l(this._hash),e&&(n=m(n)),this.reset(),n},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=d(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var n=o(new Uint8Array(e)),i=l(n);return t?m(i):i},f}))},"8acb":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.handleCreate}},[e._v("\n      "+e._s(e.$t("device.bind"))+"\n    ")]),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-upload"},on:{click:function(t){return e.handleSyncDevice()}}},[e._v("\n      "+e._s(e.$t("device.syncPerson"))+"\n    ")]),e._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.handleTruncate}},[e._v("\n      "+e._s(e.$t("device.truncate"))+"\n    ")])],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticStyle:{width:"100%"},attrs:{data:e.list,border:"",fit:"","highlight-current-row":""},on:{"sort-change":e.sortChange}},[n("el-table-column",{attrs:{label:"ID",prop:"id",sortable:"custom",align:"center",width:"80","class-name":e.getSortClass("id")},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("span",[e._v(e._s(i.id))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("device.name"),"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("span",[e._v(e._s(i.name))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("device.serial"),"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("span",[e._v(e._s(i.serial))])]}}])}),e._v(" "),e.iocount?n("el-table-column",{attrs:{label:e.$t("device.iocountName"),"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("el-tag",{attrs:{type:e._f("iostatusFilter")(i.iostatus)}},[e._v("\n          "+e._s(i.iostatus>0?e.$t("device.in"):e.$t("device.out"))+"\n        ")])]}}],null,!1,3223093095)}):e._e(),e._v(" "),n("el-table-column",{attrs:{label:e.$t("dashboard.alarm.status"),"min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("el-tag",{attrs:{type:e._f("statusFilter")(i.status)}},[e._v("\n          "+e._s(i.status>0?e.$t("device.onlineStatus.online"):e.$t("device.onlineStatus.offline"))+"\n        ")]),e._v(" "),i.isshow_doorstatus?n("el-tag",{attrs:{type:e._f("openstatusFilter")(i.isopen)}},[e._v("\n          "+e._s(e._f("openstatus")(i.isopen))+"\n        ")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.$t("table.actions"),align:"center",width:"260","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[n("el-button-group",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpgrade(i)}}},[e._v(e._s(e.$t("device.manage")))]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleSyncDevice(null,i.id)}}},[e._v(e._s(e.$t("device.sync.btn")))]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleUpdate(i)}}},[e._v(e._s(e.$t("table.edit")))]),e._v(" "),"deleted"!=i.status?n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.handleDelete(i)}}},[e._v(e._s(e.$t("table.delete")))]):e._e()],1)]}}])})],1),e._v(" "),n("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}}),e._v(" "),n("el-dialog",{attrs:{title:e.$t("table.edit"),visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{ref:"dataForm",staticStyle:{width:"500px","margin-left":"50px"},attrs:{rules:e.rules,model:e.temp,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("device.name"),prop:"name"}},[n("el-input",{model:{value:e.temp.name,callback:function(t){e.$set(e.temp,"name",t)},expression:"temp.name"}})],1),e._v(" "),"LAN"!==e.runmode?n("el-form-item",{attrs:{label:e.$t("device.serial"),prop:"serial"}},[n("el-input",{attrs:{disabled:"create"!==e.dialogStatus},model:{value:e.temp.serial,callback:function(t){e.$set(e.temp,"serial",t)},expression:"temp.serial"}})],1):e._e(),e._v(" "),"LAN"===e.runmode?[n("el-form-item",{attrs:{label:e.$t("device.ip"),prop:"ip",required:!0}},[n("el-input",{model:{value:e.temp.ip,callback:function(t){e.$set(e.temp,"ip",t)},expression:"temp.ip"}})],1),e._v(" "),"create"===e.dialogStatus||0==e.temp.type?n("el-form-item",{attrs:{label:e.$t("device.psw"),prop:"psw",required:!0}},[n("el-input",{model:{value:e.temp.psw,callback:function(t){e.$set(e.temp,"psw",t)},expression:"temp.psw"}})],1):e._e()]:e._e(),e._v(" "),e.iocount?n("el-form-item",{attrs:{label:e.$t("device.iocountName"),required:!0}},[n("el-radio",{attrs:{label:0},model:{value:e.temp.iostatus,callback:function(t){e.$set(e.temp,"iostatus",t)},expression:"temp.iostatus"}},[e._v(e._s(e.$t("device.out")))]),e._v(" "),n("el-radio",{attrs:{label:1},model:{value:e.temp.iostatus,callback:function(t){e.$set(e.temp,"iostatus",t)},expression:"temp.iostatus"}},[e._v(e._s(e.$t("device.in")))])],1):e._e(),e._v(" "),e.multi_cert?n("el-form-item",{attrs:{label:e.$t("device.multi_cert.name"),required:!0}},[n("el-radio",{attrs:{label:0},model:{value:e.temp.multi_cert,callback:function(t){e.$set(e.temp,"multi_cert",t)},expression:"temp.multi_cert"}},[e._v(e._s(e.$t("device.multi_cert.opt0")))]),e._v(" "),n("el-radio",{attrs:{label:1},model:{value:e.temp.multi_cert,callback:function(t){e.$set(e.temp,"multi_cert",t)},expression:"temp.multi_cert"}},[e._v(e._s(e.$t("device.multi_cert.opt1")))]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[n("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("device.multi_cert.tips"))},slot:"content"}),e._v(" "),n("i",{staticClass:"el-icon-question"})])],1):e._e(),e._v(" "),n("el-tabs",{on:{"tab-click":e.handleTabs},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:e.$t("device.tabs.first"),name:"first"}},[n("el-form-item",{attrs:{label:e.$t("device.personOptions"),prop:"person"}},[n("el-tree",{ref:"personTree",attrs:{data:e.person_options,"show-checkbox":"","node-key":"id","default-expand-all":!0,"default-checked-keys":e.selected_persons,props:e.defaultProps}})],1)],1),e._v(" "),1!==e.temp.multi_cert?n("el-tab-pane",{attrs:{label:e.$t("device.tabs.third"),name:"third"}},[n("el-form-item",{attrs:{label:e.$t("dashboard.alarm.status")}},[n("el-checkbox",{model:{value:e.temp.isshow_doorstatus,callback:function(t){e.$set(e.temp,"isshow_doorstatus",t)},expression:"temp.isshow_doorstatus"}},[e._v(e._s(e.$t("device.thirdOptions.opt1")))]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("device.thirdOptions.opt1Tips"),placement:"top-start"}},[n("i",{staticClass:"el-icon-question"})])],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("device.thirdOptions.opt2"),required:!0}},[n("el-radio",{attrs:{label:1},model:{value:e.temp.checkatt,callback:function(t){e.$set(e.temp,"checkatt",t)},expression:"temp.checkatt"}},[e._v(e._s(e.$t("device.thirdOptions.opt2_1")))]),e._v(" "),n("el-radio",{attrs:{label:0},model:{value:e.temp.checkatt,callback:function(t){e.$set(e.temp,"checkatt",t)},expression:"temp.checkatt"}},[e._v(e._s(e.$t("device.thirdOptions.opt2_2")))]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("device.thirdOptions.opt2Tips"),placement:"top-start"}},[n("i",{staticClass:"el-icon-question"})])],1),e._v(" "),e.auth_attendance?[n("el-form-item",{attrs:{label:e.$t("device.thirdOptions.opt3"),required:!0}},[n("el-radio",{attrs:{label:0},model:{value:e.temp.attauth,callback:function(t){e.$set(e.temp,"attauth",t)},expression:"temp.attauth"}},[e._v(e._s(e.$t("device.thirdOptions.opt3_0")))]),e._v(" "),n("el-radio",{attrs:{label:1},model:{value:e.temp.attauth,callback:function(t){e.$set(e.temp,"attauth",t)},expression:"temp.attauth"}},[e._v(e._s(e.$t("device.thirdOptions.opt3_1")))]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"$t('device.thirdOptions.opt3Tips')",placement:"top-start"}},[n("i",{staticClass:"el-icon-question"})])],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("device.thirdOptions.opt4"),required:!0}},[n("el-radio",{attrs:{label:1},model:{value:e.temp.limitatt,callback:function(t){e.$set(e.temp,"limitatt",t)},expression:"temp.limitatt"}},[e._v(e._s(e.$t("device.thirdOptions.opt4_1")))]),e._v(" "),n("el-radio",{attrs:{label:0},model:{value:e.temp.limitatt,callback:function(t){e.$set(e.temp,"limitatt",t)},expression:"temp.limitatt"}},[e._v(e._s(e.$t("device.thirdOptions.opt4_0")))]),e._v(" "),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[n("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.$t("device.thirdOptions.opt4Tips"))},slot:"content"}),e._v(" "),n("i",{staticClass:"el-icon-question"})])],1)]:e._e()],2):e._e(),e._v(" "),n("el-tab-pane",{attrs:{label:e.$t("device.tabs.second"),name:"second"}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.extendLoading,expression:"extendLoading"}]},["create"==e.dialogStatus?n("div",[e._v(e._s(e.$t("device.tabs.secondTip")))]):[0==e.temp.type?n("hq-options",{attrs:{model:e.temp.model,options:e.extend,runmode:e.runmode,iocount:e.iocount},on:{"update:options":function(t){e.extend=t}}}):e._e(),e._v(" "),1==e.temp.type?[n("el-form-item",{attrs:{label:e.$t("device.options.common.password"),required:!0}},[n("el-input",{model:{value:e.extend.password,callback:function(t){e.$set(e.extend,"password",t)},expression:"extend.password"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("device.options.common.delay"),required:!0}},[n("el-input",{model:{value:e.extend.delay,callback:function(t){e.$set(e.extend,"delay",t)},expression:"extend.delay"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.openAction.name"),required:!0}},[n("el-radio-group",{model:{value:e.extend.iotype,callback:function(t){e.$set(e.extend,"iotype",t)},expression:"extend.iotype"}},[n("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("hModel.openAction.option0")))]),e._v(" "),n("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("hModel.openAction.option1")))])],1)],1)]:e._e()]],2)])],1)],2),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("\n        "+e._s(e.$t("table.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){"create"===e.dialogStatus?e.createData():e.updateData()}}},[e._v("\n        "+e._s(e.$t("table.submit"))+"\n      ")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:e.$t("device.management.name"),visible:e.dialogUpgradeVisible},on:{"update:visible":function(t){e.dialogUpgradeVisible=t}}},[n("div",[n("el-tag",[e._v(e._s(e.$t("device.upgrade.versonLabel")+e.upgrade.version))])],1),e._v(" "),n("el-row",{staticStyle:{margin:"20px 0 0 0"}},[n("el-col",{attrs:{span:24}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-unlock",disabled:e.isonline},on:{click:e.handleOpendoor}},[e._v(e._s(e.$t("device.management.open")))]),e._v(" "),1==e.temp.type?n("el-button",{attrs:{type:"primary",disabled:e.isonline},on:{click:e.handleEnableAlarm}},[n("i",{staticClass:"iconfont",class:{iconjinyong:e.temp.alarm_enable,iconqiyong:!e.temp.alarm_enable}}),e._v(" "+e._s(e.temp.alarm_enable?e.$t("device.management.chefang"):e.$t("device.management.bufang")))]):e._e()],1),e._v(" "),n("el-col",{staticStyle:{margin:"10px 0 0 0"},attrs:{span:24}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete",disabled:e.isonline},on:{click:e.handleTruncateOne}},[e._v(e._s(e.$t("device.management.truncate")))]),e._v(" "),1==e.temp.type?n("el-button",{attrs:{type:"warning",icon:"el-icon-refresh",disabled:e.isonline},on:{click:e.handleReboot}},[e._v(e._s(e.$t("device.management.reboot")))]):e._e(),e._v(" "),1==e.temp.type?n("el-switch",{staticStyle:{"margin-left":"10px"},attrs:{"active-text":e.$t("device.management.changePwd")},model:{value:e.changePassVisible,callback:function(t){e.changePassVisible=t},expression:"changePassVisible"}}):e._e()],1),e._v(" "),e.changePassVisible?[n("el-col",{attrs:{span:24}},[n("el-divider",[e._v(e._s(e.$t("device.management.password")))])],1),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form",{ref:"passwordForm",staticStyle:{width:"500px","margin-left":"50px"},attrs:{model:e.passtemp,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("device.management.password")}},[n("el-input",{attrs:{placeholder:e.$t("device.management.passwordPlaceholder")},model:{value:e.passtemp.password,callback:function(t){e.$set(e.passtemp,"password",t)},expression:"passtemp.password"}})],1),e._v(" "),n("div",{staticClass:"dialog-footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleChangePass}},[e._v(e._s(e.$t("device.management.confirmBtn")))])],1)],1)],1)]:e._e(),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-divider")],1),e._v(" "),n("el-col",{attrs:{span:24}},["LAN"!==e.runmode?n("div",{staticStyle:{display:"inline-block","margin-right":"10px"}},[e.uploadStatus?n("el-button",{attrs:{type:"primary",loading:!0}},[e._v(e._s(e.$t("device.upgrade.loading")))]):n("upload-file",{attrs:{callback:e.uploadfile,disable:e.isonline}})],1):e._e(),e._v(" "),1==e.temp.type?n("el-button",{attrs:{disabled:e.isonline},on:{click:e.handleLog}},[e._v(e._s(e.$t("device.management.viewLog")))]):e._e(),e._v(" "),n("el-button",{on:{click:e.handleAlarmLog}},[e._v(e._s(e.$t("device.management.alarmLog")))])],1)],2),e._v(" "),e.temp.logs?n("div",[n("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:10},placeholder:e.$t("device.management.log"),readonly:!0},model:{value:e.temp.logs,callback:function(t){e.$set(e.temp,"logs",t)},expression:"temp.logs"}})],1):e._e()],1),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogSync,width:"30%"},on:{"update:visible":function(t){e.dialogSync=t}}},[n("template",{slot:"title"},[n("div",{staticClass:"sync-title"},[e._v("\n        "+e._s(e.$t("device.sync.title"))+"\n        "),n("span",[e._v("（"+e._s(e.syncCompleted?e.$t("device.sync.successTip"):e.$t("device.sync.tip"))+"）")])])]),e._v(" "),n("div",[n("div",e._l(e.devicesQueue,(function(t,i){return n("section",{key:i,staticClass:"progress"},[n("div",{staticClass:"pro"},[e.progresses[t["id"]]?n("el-progress",{attrs:{percentage:e.percentages[t["id"]],color:e.customColors,"show-text":!1}}):e._e()],1),e._v(" "),e.progresses[t["id"]]&&"break"===e.progresses[t["id"]]["status"]?n("div",{staticClass:"retry"},[n("el-button",{attrs:{icon:"el-icon-refresh-right",circle:"",type:"primary",size:"mini",disabled:e.syncTemp["sync"]},on:{click:function(n){return e.handleRefresh(t["id"])}}})],1):e._e(),e._v(" "),n("div",{staticClass:"dev"},[e._v("\n            "+e._s(t["name"])+"\n          ")])])})),0),e._v(" "),n("transition-group",{attrs:{name:"el-fade-in"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.syncCompleted,expression:"syncCompleted"}],key:"0",staticStyle:{"text-align":"center","margin-top":"20px",color:"#67C23A"}},[n("i",{staticClass:"el-icon-circle-check",staticStyle:{"font-size":"35px"}})]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.syncBreak,expression:"syncBreak"}],key:"1",staticStyle:{"text-align":"center","margin-top":"20px",color:"#E6A23C"}},[n("i",{staticClass:"el-icon-warning-outline",staticStyle:{"font-size":"35px"}})])])],1)],2)],1)},a=[],s=(n("55dd"),n("ac4d"),n("8a81"),n("6762"),n("2fdb"),n("456d"),n("ac6a"),n("20d6"),n("aa98")),o=n("3f6e"),r=n("6724"),l=n("333d"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",[n("el-form-item",{attrs:{prop:"uploadData"}},[n("el-upload",{ref:"upload",staticClass:"upload-file",attrs:{action:"","show-file-list":!1,"on-remove":e.handleRemove,"http-request":e.handleUpload,"auto-upload":!0}},[n("el-button",{attrs:{type:"primary",loading:e.loading,disabled:e.disable}},[e._v("\n        "+e._s(e.$t("device.upgrade.upbtn"))+"\n      ")])],1)],1)],1)},u=[],d=n("3123"),p={name:"ComUploadFile",props:{disable:{default:!1,type:Boolean},callback:{default:function(){},type:Function}},data:function(){return{loading:!1,file:""}},methods:{handleRemove:function(e){this.callback("")},handleUpload:function(e){var t=this;this.loading=!0,Object(d["a"])(e.file).then((function(e){t.loading=!1,t.callback(e)})).catch((function(e){t.loading=!1}))}}},m=p,f=n("2877"),h=Object(f["a"])(m,c,u,!1,null,null,null),v=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:e.$t("hModel.optName"),name:"before"}},["8寸体温"==e.model?[n("el-form-item",{attrs:{label:e.$t("device.options.model8.alarmTemp"),required:!0}},[n("el-input",{model:{value:e.myOptions.alarmTemp,callback:function(t){e.$set(e.myOptions,"alarmTemp",t)},expression:"myOptions.alarmTemp"}},[n("template",{slot:"append"},[e._v("℃")])],2)],1)]:e._e()],2),e._v(" "),n("el-tab-pane",{attrs:{label:e.$t("hModel.condition"),name:"first"}},[n("el-form-item",{attrs:{label:e.$t("hModel.control.name"),required:!0}},[n("el-radio-group",{model:{value:e.myOptions.ControlType,callback:function(t){e.$set(e.myOptions,"ControlType",t)},expression:"myOptions.ControlType"}},[n("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("hModel.control.option0")))]),e._v(" "),n("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("hModel.control.option1")))]),e._v(" "),n("el-radio-button",{attrs:{label:2}},[e._v(e._s(e.$t("hModel.control.option2")))])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.mode.name"),required:!0}},[n("el-radio-group",{model:{value:e.myOptions.Endian,callback:function(t){e.$set(e.myOptions,"Endian",t)},expression:"myOptions.Endian"}},[n("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("hModel.mode.option0")))]),e._v(" "),n("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("hModel.mode.option1")))])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.card.name"),required:!0}},[n("el-radio-group",{model:{value:e.myOptions.CardMode,callback:function(t){e.$set(e.myOptions,"CardMode",t)},expression:"myOptions.CardMode"}},[n("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("hModel.card.option0")))]),e._v(" "),n("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("hModel.card.option1")))])],1)],1),e._v(" "),1!==e.myOptions.ControlType?[n("el-form-item",{attrs:{label:e.$t("hModel.Wiegands.name"),required:!0}},[n("el-select",{attrs:{placeholder:e.$t("table.select")},model:{value:e.myOptions.Wiegand,callback:function(t){e.$set(e.myOptions,"Wiegand",t)},expression:"myOptions.Wiegand"}},e._l(e.Wiegands,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.PublicMjCardNo"),required:!0}},[n("el-input",{model:{value:e.myOptions.PublicMjCardNo,callback:function(t){e.$set(e.myOptions,"PublicMjCardNo",t)},expression:"myOptions.PublicMjCardNo"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.AutoMjCardBgnNo")}},[n("el-col",{attrs:{span:11}},[n("el-input",{model:{value:e.myOptions.AutoMjCardBgnNo,callback:function(t){e.$set(e.myOptions,"AutoMjCardBgnNo",t)},expression:"myOptions.AutoMjCardBgnNo"}})],1),e._v(" "),n("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),n("el-col",{attrs:{span:11}},[n("el-input",{model:{value:e.myOptions.AutoMjCardEndNo,callback:function(t){e.$set(e.myOptions,"AutoMjCardEndNo",t)},expression:"myOptions.AutoMjCardEndNo"}})],1)],1)]:e._e(),e._v(" "),0!=e.myOptions.ControlType?[n("el-form-item",{attrs:{label:e.$t("hModel.openAction.name"),required:!0}},[n("el-radio-group",{model:{value:e.myOptions.IOType,callback:function(t){e.$set(e.myOptions,"IOType",t)},expression:"myOptions.IOType"}},[n("el-radio-button",{attrs:{label:0}},[e._v(e._s(e.$t("hModel.openAction.option0")))]),e._v(" "),n("el-radio-button",{attrs:{label:1}},[e._v(e._s(e.$t("hModel.openAction.option1")))])],1)],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.IOStayTime"),required:!0}},[n("el-input",{model:{value:e.myOptions.IOStayTime,callback:function(t){e.$set(e.myOptions,"IOStayTime",t)},expression:"myOptions.IOStayTime"}},[n("template",{slot:"append"},[e._v("("+e._s(e.$t("hModel.ms"))+")")])],2)],1)]:e._e()],2),e._v(" "),"LAN"===e.runmode?n("el-tab-pane",{attrs:{label:e.$t("hModel.network.name"),name:"second"}},[n("el-form-item",{attrs:{label:e.$t("hModel.network.ip"),required:!0}},[n("el-input",{model:{value:e.myOptions.IPAddr,callback:function(t){e.$set(e.myOptions,"IPAddr",t)},expression:"myOptions.IPAddr"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.network.mask"),required:!0}},[n("el-input",{model:{value:e.myOptions.Submask,callback:function(t){e.$set(e.myOptions,"Submask",t)},expression:"myOptions.Submask"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.network.gateway"),required:!0}},[n("el-input",{model:{value:e.myOptions.Gateway,callback:function(t){e.$set(e.myOptions,"Gateway",t)},expression:"myOptions.Gateway"}})],1),e._v(" "),n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.$t("hModel.network.warning")))])],1):e._e(),e._v(" "),"LAN"!==e.runmode?n("el-tab-pane",{attrs:{label:e.$t("hModel.system.name"),name:"fourth"}},[n("el-form-item",{attrs:{label:e.$t("hModel.system.LiveThreshold"),required:!0}},[n("el-input",{model:{value:e.myOptions.LiveThreshold,callback:function(t){e.$set(e.myOptions,"LiveThreshold",t)},expression:"myOptions.LiveThreshold"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.system.LiveFrameNum"),required:!0}},[n("el-input",{model:{value:e.myOptions.LiveFrameNum,callback:function(t){e.$set(e.myOptions,"LiveFrameNum",t)},expression:"myOptions.LiveFrameNum"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.system.LedLightType"),required:!0}},[n("el-select",{attrs:{placeholder:e.$t("table.select")},model:{value:e.myOptions.LedLightType,callback:function(t){e.$set(e.myOptions,"LedLightType",t)},expression:"myOptions.LedLightType"}},e._l(e.LedLightTypes,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),1===e.myOptions.LedLightType||4===e.myOptions.LedLightType?n("el-form-item",{attrs:{label:e.$t("hModel.system.LedTime")}},[n("el-col",{attrs:{span:11}},[n("el-time-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":{format:"HH:mm:ss"}},model:{value:e.myOptions.LedTimeBeg,callback:function(t){e.$set(e.myOptions,"LedTimeBeg",t)},expression:"myOptions.LedTimeBeg"}})],1),e._v(" "),n("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),n("el-col",{attrs:{span:11}},[n("el-time-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":{format:"HH:mm:ss"}},model:{value:e.myOptions.LedTimeEnd,callback:function(t){e.$set(e.myOptions,"LedTimeEnd",t)},expression:"myOptions.LedTimeEnd"}})],1)],1):e._e(),e._v(" "),0!==e.myOptions.LedLightType?n("el-form-item",{attrs:{label:e.$t("hModel.system.LedBrightness"),required:!0}},[n("el-input",{model:{value:e.myOptions.LedBrightness,callback:function(t){e.$set(e.myOptions,"LedBrightness",t)},expression:"myOptions.LedBrightness"}},[n("template",{slot:"append"},[e._v("1-100")])],2)],1):e._e(),e._v(" "),0!==e.myOptions.LedLightType&&1!==e.myOptions.LedLightType&&2!==e.myOptions.LedLightType?n("el-form-item",{attrs:{label:e.$t("hModel.system.LedWaitTime"),required:!0}},[n("el-input",{model:{value:e.myOptions.LedDisableAfterSec,callback:function(t){e.$set(e.myOptions,"LedDisableAfterSec",t)},expression:"myOptions.LedDisableAfterSec"}},[n("template",{slot:"append"},[e._v(e._s(e.$t("hModel.system.LedDisableAfterSec")))])],2)],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:e.$t("hModel.system.displayMode"),required:!0}},[n("el-select",{attrs:{placeholder:e.$t("table.select")},model:{value:e.myOptions.LcdBLDisable,callback:function(t){e.$set(e.myOptions,"LcdBLDisable",t)},expression:"myOptions.LcdBLDisable"}},e._l(e.LcdBLModel,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),0!==e.myOptions.LcdBLDisable?n("el-form-item",{attrs:{label:e.$t("hModel.system.LcdShowTime"),required:!0}},[n("el-input",{model:{value:e.myOptions.LcdBLDisableAfterSec,callback:function(t){e.$set(e.myOptions,"LcdBLDisableAfterSec",t)},expression:"myOptions.LcdBLDisableAfterSec"}},[n("template",{slot:"append"},[e._v(e._s(e.$t("hModel.system.LcdShowTime"))+"(10~600)")])],2)],1):e._e()],1):e._e(),e._v(" "),"LAN"===e.runmode?n("el-tab-pane",{attrs:{label:e.$t("hModel.maintain.name"),name:"fifth"}},[n("el-form-item",{attrs:{label:e.$t("hModel.maintain.device"),required:!0}},[n("el-col",{attrs:{span:11}},[n("el-select",{attrs:{placeholder:e.$t("hModel.maintain.AutoRebootDay")},model:{value:e.myOptions.AutoRebootDay,callback:function(t){e.$set(e.myOptions,"AutoRebootDay",t)},expression:"myOptions.AutoRebootDay"}},e._l(e.AutoReboot,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),n("el-col",{staticClass:"line",attrs:{span:2}},[e._v(" ")]),e._v(" "),n("el-col",{attrs:{span:11}},[e.myOptions.AutoRebootDay>0?n("el-time-select",{staticStyle:{width:"100%"},attrs:{"picker-options":{start:"00:00",step:"01:00",end:"23:00"}},model:{value:e.myOptions.AutoRebootHour,callback:function(t){e.$set(e.myOptions,"AutoRebootHour",t)},expression:"myOptions.AutoRebootHour"}}):e._e()],1)],1)],1):e._e()],1)],1)},y=[],g={name:"DeviceOptionHQ",props:{runmode:{type:String,default:""},model:{type:String,default:""},options:{type:Object,default:function(){}}},data:function(){return{tabgroup:[],activeName:"first",Wiegands:[{value:0,label:this.$t("hModel.Wiegands.opt0")},{value:1,label:this.$t("hModel.Wiegands.opt1")},{value:2,label:"DS"},{value:3,label:"YH"},{value:4,label:this.$t("hModel.Wiegands.opt4")},{value:5,label:this.$t("hModel.Wiegands.opt5")},{value:6,label:this.$t("hModel.Wiegands.opt6")},{value:7,label:this.$t("hModel.Wiegands.opt7")}],AutoReboot:[{value:0,label:this.$t("hModel.never")},{value:1,label:this.$t("hModel.every")},{value:2,label:this.$t("week.w1")},{value:3,label:this.$t("week.w2")},{value:4,label:this.$t("week.w3")},{value:5,label:this.$t("week.w4")},{value:6,label:this.$t("week.w5")},{value:7,label:this.$t("week.w6")},{value:8,label:this.$t("week.w7")}],LedLightTypes:[{value:0,label:this.$t("hModel.never")},{value:1,label:this.$t("hModel.LedLightTypes.opt1")},{value:2,label:this.$t("hModel.LedLightTypes.opt2")},{value:3,label:this.$t("hModel.LedLightTypes.opt3")},{value:4,label:this.$t("hModel.LedLightTypes.opt4")},{value:5,label:this.$t("hModel.LedLightTypes.opt5")}],LcdBLModel:[{value:0,label:this.$t("hModel.never")},{value:1,label:this.$t("hModel.LcdBLModel.opt1")}],time_keys:["LedTimeBeg","LedTimeEnd","LiveDetectTimeBeg","LiveDetectTimeEnd"],myOptions:{}}},watch:{options:{deep:!0,handler:function(e,t){this.myOptions=e}},myOptions:{deep:!0,handler:function(e,t){this.$emit("update:options",e)}}},mounted:function(){this.myOptions=this.options}},_=g,$=Object(f["a"])(_,b,y,!1,null,null,null),O=$.exports,k=n("fcac"),w=n("9923"),x={name:"List",components:{Pagination:l["a"],uploadFile:v,hqOptions:O},directives:{waves:r["a"]},filters:{openstatus:function(e){var t={0:w["b"].t("device.openStatus.close"),1:w["b"].t("device.openStatus.open"),"-1":w["b"].t("device.openStatus.unknow")};return t[e]},openstatusFilter:function(e){var t={0:"success",1:"warning","-1":"info"};return t[e]},iostatusFilter:function(e){var t={0:"warning",1:"success"};return t[e]},statusFilter:function(e){var t={0:"info",1:"success","-1":"info"};return t[e]}},data:function(){return{tableKey:0,list:null,total:0,listLoading:!0,listQuery:{page:1,limit:20,name:void 0,sort:"+id"},activeName:"first",devices:[],devicesQueue:[],percentages:{},progresses:{},customColors:[{color:"#e6a23c",percentage:10},{color:"#409eff",percentage:99},{color:"#67c23a",percentage:100}],changePassVisible:!1,dialogSync:!1,syncCompleted:!1,syncBreak:!1,temp:{id:void 0,name:"",serial:"",persons:[],account:"",ip:"",psw:"",iostatus:0,multi_cert:0,isshow_doorstatus:!1,checkatt:1,attauth:0,limitatt:0},passtemp:{password:""},extend:{},dialogUpgradeVisible:!1,uploadStatus:!1,isonline:!0,upgrade:{id:void 0,version:"",path:""},syncTemp:[],errorStack:{},person_options:[],selected_persons:[],dialogFormVisible:!1,dialogStatus:"",extendLoading:!0,pvData:[],rules:{name:[{required:!0,message:this.$t("device.required.name"),trigger:"blur"}],serial:[{required:!0,message:this.$t("device.required.serial"),trigger:"blur"}]},defaultProps:{children:"children",label:"name"},iocount:!1,auth_attendance:!1,multi_cert:!1,downloadLoading:!1}},created:function(){var e=this;this.getList(),this.getOptions(),Object(k["c"])().then((function(t){var n=t.data;n.iocount&&(e.iocount=!0),e.multi_cert=n.multi_cert,e.auth_attendance=n.auth_attendance}))},methods:{handleChangePass:function(){var e=this,t=Object.assign({id:this.temp.id},this.passtemp);Object(s["b"])(t).then((function(t){e.passtemp.password="",e.dialogUpgradeVisible=!1,e.changePassVisible=!1,e.$notify({title:e.$t("table.successTitle"),message:t.message||e.$t("table.updateSuccess"),type:"success",duration:2e3})}))},handleEnableAlarm:function(){var e=this,t=this.temp.alarm_enable?0:1;Object(s["e"])({id:this.temp.id,alarm_enable:t}).then((function(n){e.temp.alarm_enable=t;var i=e.list.findIndex((function(t){return t.id===e.temp.id}));e.list[i].alarm_enable=t,e.$message({message:n.message||e.$t("table.success"),type:"success"})}))},handleOpendoor:function(){var e=this;Object(s["k"])(this.temp.id).then((function(t){e.$message({message:t.message||e.$t("table.success"),type:"success"})}))},handleReboot:function(){var e=this;this.$confirm(this.$t("device.management.rebootMsg"),this.$t("table.confirmTitle"),{confirmButtonText:this.$t("table.confirm"),cancelButtonText:this.$t("table.cancel"),type:"warning"}).then((function(){Object(s["l"])(e.temp.id).then((function(t){e.$message({message:t.message||e.$t("table.success"),type:"success"})}))}))},handleTruncateOne:function(){var e=this;this.$confirm(this.$t("device.delete.truncate"),this.$t("table.confirmTitle"),{confirmButtonText:this.$t("table.confirm"),cancelButtonText:this.$t("table.cancel"),type:"warning"}).then((function(){Object(s["p"])(e.temp.id).then((function(t){e.$message({message:t.message||e.$t("table.success"),type:"success"})}))}))},handleAlarmLog:function(){var e=this;Object(s["g"])(this.temp.id).then((function(t){e.$set(e.temp,"logs",t.data)})).catch((function(t){e.$set(e.temp,"logs",t.message||e.$t("device.management.errAMsg"))}))},handleLog:function(){var e=this;Object(s["i"])(this.temp.id).then((function(t){e.$set(e.temp,"logs",t.data)})).catch((function(t){e.$set(e.temp,"logs",t.message||e.$t("device.management.errVLog"))}))},handleTabs:function(e){var t=this;if(this.extendLoading=!0,"2"!==e.index||"create"===this.dialogStatus)return this.extendLoading=!1,!1;Object(s["h"])(this.temp.id).then((function(e){var n=t.renderExtend(e.data);Object.keys(n).forEach((function(e,i){n[e]!==t.extend[e]&&t.$set(t.extend,e,n[e])})),t.extendLoading=!1})).catch((function(e){t.extendLoading=!1}))},renderExtend:function(e){return e},uploadfile:function(e){var t=this;this.upgrade["path"]=e,this.uploadStatus=!0,Object(s["s"])(this.upgrade).then((function(e){t.upgrade={id:void 0,version:"",path:""},t.dialogUpgradeVisible=!1,t.$message({message:e.message||"device upgrade success",type:"success"})})).catch((function(e){t.uploadStatus=!1,t.$message.error(e.message||"device upgrade error")}))},getList:function(){var e=this;this.listLoading=!0,Object(s["f"])(this.listQuery).then((function(t){e.list=t.data.items,e.total=t.data.total,e.listLoading=!1})),Object(s["c"])().then((function(t){e.devices=t.data}))},handleFilter:function(){this.listQuery.page=1,this.getList()},sortChange:function(e){var t=e.prop,n=e.order;"id"===t&&this.sortByID(n)},sortByID:function(e){this.listQuery.sort="ascending"===e?"+id":"-id",this.handleFilter()},resetTemp:function(){this.temp={id:void 0,name:"",serial:"",persons:[],account:"",ip:"",psw:"",iostatus:0,multi_cert:0,isshow_doorstatus:!1,checkatt:1,attauth:0,limitatt:0},this.activeName="first",this.extendLoading=!1,this.selected_persons=[],this.cleanTreePerson()},handleTruncate:function(){var e=this;this.$confirm(this.$t("device.delete.truncate"),this.$t("table.confirmTitle"),{confirmButtonText:this.$t("table.confirm"),cancelButtonText:this.$t("table.cancel"),type:"warning"}).then((function(){Object(s["p"])().then((function(t){e.$message({message:t.message||e.$t("table.success"),type:"success"})}))}))},handleUpgrade:function(e){var t=this;this.resetTemp(),this.temp=Object.assign({},e),this.uploadStatus=!1,this.upgrade={id:e.id,version:"",path:""},this.dialogUpgradeVisible=!0,this.isonline=!0,Object(s["t"])(e.id).then((function(e){t.upgrade["version"]=e["data"],t.isonline=!1})).catch((function(e){t.upgrade["version"]=t.$t("device.upgrade.unknowVersion")}))},handleSyncDevice:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.devicesQueue=[],this.syncTemp={sync:!1},this.dialogSync=!0,this.syncCompleted=!1,this.syncBreak=!1,this.progresses={},this.devices.forEach((function(i){null!==n&&n!==i.id||(e.devicesQueue.push(i),e.progresses[i.id]={total:1,next:0,status:"",persons:t},e.$set(e.percentages,i.id,0))})),this.syncDevices(this.devicesQueue,t)},handleRefresh:function(e){var t=this.devicesQueue.filter((function(t){return t.id===e})),n=this.progresses[e]["persons"];this.syncDevices(t,n)},syncDevices:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.syncTemp["sync"])return"";var i=e.concat(),a=i[0];Object(o["h"])(Object.assign(a,{next:this.progresses[a.id]["next"],persons:n})).then((function(e){t.errorStack={};var s=e.data;if(!s)return t.$set(t.percentages,a.id,100),!0;t.progresses[a.id]={total:s.total,next:s.next,status:"",persons:n},t.$set(t.percentages,a.id,s.next/s.total*100),100===t.percentages[a.id]&&i.shift(),i.length>0?setTimeout((function(){t.syncDevices(i,n)}),1):t.syncCompleted=!0})).catch((function(e){t.syncTemp["sync"]=!1,t.errorStack&&t.errorStack["id"]===a.id||(t.errorStack={id:a.id,error:0}),e.message.includes("timeout")?(t.errorStack["error"]+=1,t.errorStack["error"]>=5?(t.progresses[a.id]["status"]="break",i.shift(),i.length>0?setTimeout((function(){t.syncDevices(i,n)}),1):t.syncBreak=!0):(t.$message({message:t.$t("table.continueMessage"),type:"warning"}),setTimeout((function(){t.syncDevices(i,n)}),1))):(t.progresses[a.id]["status"]="break",i.shift(),i.length>0?setTimeout((function(){t.syncDevices(i,n)}),1):t.syncBreak=!0,t.$message({message:e.message||t.$t("table.syncError"),type:"error"}))}))},handleCreate:function(){var e=this;this.resetTemp(),this.dialogStatus="create",this.dialogFormVisible=!0,this.$nextTick((function(){e.$refs["dataForm"].clearValidate()}))},createData:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&(e.temp.persons=e.$refs.personTree.getCheckedKeys(),Object(s["a"])(e.temp).then((function(t){e.temp=t.data,e.list.unshift(e.temp),e.dialogFormVisible=!1,e.$notify({title:e.$t("table.successTitle"),message:e.$t("table.updateSuccess"),type:"success",duration:2e3}),e.getList()})))}))},handleUpdate:function(e){var t=this;this.resetTemp(),this.temp=Object.assign({},e),this.temp.isshow_doorstatus=!!e.isshow_doorstatus,this.extend=e.extend,this.dialogStatus="update",this.dialogFormVisible=!0,this.cleanTreePerson(),this.getSelectedPersons({device_id:e.id}),this.$nextTick((function(){t.$refs["dataForm"].clearValidate()}))},updateData:function(){var e=this;this.$refs["dataForm"].validate((function(t){if(t){e.temp.persons=e.$refs.personTree.getCheckedKeys();var n=Object.assign({},e.temp);n.extend=Object.assign({},e.extend),Object(s["r"])(n).then((function(){var t=!0,n=!1,i=void 0;try{for(var a,s=e.list[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value;if(o.id===e.temp.id){var r=e.list.indexOf(o);e.list.splice(r,1,e.temp);break}}}catch(l){n=!0,i=l}finally{try{t||null==s.return||s.return()}finally{if(n)throw i}}e.dialogFormVisible=!1,e.$notify({title:e.$t("table.successTitle"),message:e.$t("table.updateSuccess"),type:"success",duration:2e3})}))}}))},handleDelete:function(e){var t=this;this.$confirm(this.$t("device.delete.confirm"),this.$t("table.confirmTitle"),{confirmButtonText:this.$t("table.confirm"),cancelButtonText:this.$t("table.cancel"),type:"warning"}).then((function(){Object(s["q"])(e).then((function(){t.$notify({title:t.$t("table.successTitle"),message:t.$t("table.deleteSuccess"),type:"success",duration:2e3});var n=t.list.indexOf(e);t.list.splice(n,1)}))}))},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":t==="-".concat(e)?"descending":""},getOptions:function(){var e=this;Object(o["f"])().then((function(t){e.person_options=t.data}))},getSelectedPersons:function(e){var t=this;Object(s["n"])(e).then((function(e){t.selected_persons=e.data}))},cleanTreePerson:function(){"undefined"!==typeof this.$refs.personTree&&"undefined"!==this.$refs.personTree.setCheckedKeys&&this.$refs.personTree.setCheckedKeys([])}}},L=x,T=(n("8ddd"),Object(f["a"])(L,i,a,!1,null,"44400c9a",null));t["default"]=T.exports},"8d41":function(e,t,n){},"8ddd":function(e,t,n){"use strict";var i=n("221f"),a=n.n(i);a.a},aa98:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"r",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r})),n.d(t,"q",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"n",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"l",(function(){return p})),n.d(t,"t",(function(){return m})),n.d(t,"s",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"j",(function(){return g})),n.d(t,"o",(function(){return _})),n.d(t,"h",(function(){return $})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return k}));var i=n("b775");function a(e){return Object(i["a"])({url:"/device/list",method:"get",params:e})}function s(e){return Object(i["a"])({url:"/device/update",method:"post",data:e})}function o(e){return Object(i["a"])({url:"/device/changePassword",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/device/bind",method:"post",data:e})}function l(e){return Object(i["a"])({url:"/device/unbind",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/device/deviceOptions",method:"get",params:e})}function u(e){return Object(i["a"])({url:"/device/selectedPersons",method:"get",params:e})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(i["a"])({url:"/device/truncate",method:"post",data:{id:e}})}function p(e){return Object(i["a"])({url:"/device/reboot",method:"post",data:{id:e}})}function m(e){return Object(i["a"])({url:"/device/version",method:"post",data:{id:e}})}function f(e){var t=e.id,n=e.path;return Object(i["a"])({url:"/device/upgrade",method:"post",data:{id:t,path:n},timeout:3e4})}function h(e){return Object(i["a"])({url:"/device/opendoor",method:"post",data:{id:e}})}function v(e){return Object(i["a"])({url:"/device/enableAlarm",method:"post",data:e})}function b(){return Object(i["a"])({url:"/device/devicesByGroup",method:"get"})}function y(e){return Object(i["a"])({url:"/device/saveGroup",method:"post",data:e})}function g(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Object(i["a"])({url:"/device/keepOpendoor",method:"post",data:{id:e,open:t}})}function _(e){return Object(i["a"])({url:"/device/status",method:"post",data:{ids:e}})}function $(e){return Object(i["a"])({url:"/device/getExtend",method:"get",params:{id:e}})}function O(e){return Object(i["a"])({url:"/device/getLog",method:"get",params:{id:e}})}function k(e){return Object(i["a"])({url:"/device/getAlarmLog",method:"get",params:{id:e}})}},fcac:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c}));var i=n("b775");function a(){return Object(i["a"])({url:"/company/check",method:"get"})}function s(e){return Object(i["a"])({url:"/company/fetch",method:"get",params:e})}function o(e){return Object(i["a"])({url:"/company/update",method:"post",data:e})}function r(){return Object(i["a"])({url:"/company/getCompanyInfo",method:"post"})}function l(e){return Object(i["a"])({url:"/company/adjust_config",method:"post",data:e})}function c(e){return Object(i["a"])({url:"/company/io_config",method:"post",data:e})}}}]);