(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6201adf5"],{"0293":function(e,t,o){var r=o("241e"),n=o("53e2");o("ce7e")("getPrototypeOf",(function(){return function(e){return n(r(e))}}))},"061b":function(e,t,o){e.exports=o("fa99")},"1df8":function(e,t,o){var r=o("63b6");r(r.S,"Object",{setPrototypeOf:o("ead6").set})},2017:function(e,t,o){"use strict";var r=o("b12d"),n=o.n(r);n.a},"25b0":function(e,t,o){o("1df8"),e.exports=o("584a").Object.setPrototypeOf},"36bd":function(e,t,o){"use strict";var r=o("4bf8"),n=o("77f1"),i=o("9def");e.exports=function(e){var t=r(this),o=i(t.length),a=arguments.length,s=n(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,c=void 0===l?o:n(l,o);while(c>s)t[s++]=e;return t}},"49b2":function(e,t,o){"use strict";var r=o("dee5"),n=o.n(r);n.a},"4aa6":function(e,t,o){e.exports=o("dc62")},"4d16":function(e,t,o){e.exports=o("25b0")},"53b0":function(e,t,o){"use strict";var r=o("e94c"),n=o.n(r);n.a},"54b6":function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var r=o("4d16"),n=o.n(r);function i(e,t){return i=n.a||function(e,t){return e.__proto__=t,e},i(e,t)}},"6c7b":function(e,t,o){var r=o("5ca1");r(r.P,"Array",{fill:o("36bd")}),o("9c6c")("fill")},9427:function(e,t,o){var r=o("63b6");r(r.S,"Object",{create:o("a159")})},"9ed6":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login-container"},[o("div",{staticClass:"down-wrap"},[o("el-dropdown",[o("span",{staticClass:"el-dropdown-link"},[e._v(e._s(e.$t("login.lanVersion"))),o("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",[o("a",{attrs:{href:"/down/index/lanfilex86",target:"_blank"}},[e._v(e._s(e.$t("login.x86")))])]),e._v(" "),o("el-dropdown-item",[o("a",{attrs:{href:"/down/index/lanfilex64",target:"_blank"}},[e._v(e._s(e.$t("login.x64")))])])],1)],1)],1),e._v(" "),o("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,autocomplete:"on","label-position":"left"}},[o("div",{staticClass:"title-container"},[o("h3",{staticClass:"title"},[e._v("\n        "+e._s(e.$t("login.title"))+"\n      ")]),e._v(" "),o("lang-select",{staticClass:"set-language"})],1),e._v(" "),o("el-form-item",{attrs:{prop:"username"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"user"}})],1),e._v(" "),o("el-select",{staticClass:"icode",staticStyle:{width:"72px"},model:{value:e.loginForm.icode,callback:function(t){e.$set(e.loginForm,"icode",t)},expression:"loginForm.icode"}},e._l(e.icodes,(function(t,r){return o("el-option",{key:r,attrs:{label:"+"+t,value:t}},[o("span",[e._v("+"+e._s(t))])])})),1),e._v(" "),o("el-input",{ref:"username",staticClass:"username",staticStyle:{width:"calc(100% - 110px)"},attrs:{placeholder:e.$t("login.username")+"/"+e.$t("login.mobile"),name:"username",type:"text",tabindex:"1",autocomplete:"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),e._v(" "),o("el-tooltip",{attrs:{content:"Caps lock is On",placement:"right",manual:""},model:{value:e.capsTooltip,callback:function(t){e.capsTooltip=t},expression:"capsTooltip"}},[o("el-form-item",{attrs:{prop:"password"}},[o("span",{staticClass:"svg-container"},[o("svg-icon",{attrs:{"icon-class":"password"}})],1),e._v(" "),o("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:e.$t("login.password"),name:"password",tabindex:"2",autocomplete:"on"},on:{blur:function(t){e.capsTooltip=!1}},nativeOn:{keyup:[function(t){return e.checkCapslock(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}]},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),e._v(" "),o("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[o("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1)],1),e._v(" "),o("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(e._s(e.$t("login.logIn")))]),e._v(" "),o("div",{staticClass:"footer-btns",staticStyle:{position:"relative","min-height":"30px"}},["LAN"!==e.runmode?o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showForgetDialog=!0}}},[e._v("\n        "+e._s(e.$t("login.forget"))+"\n      ")]):e._e(),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.showRegDialog=!0}}},[e._v("\n        "+e._s(e.$t("login.register"))+"\n      ")])],1)],1),e._v(" "),o("el-dialog",{attrs:{title:e.$t("login.forget"),visible:e.showForgetDialog},on:{"update:visible":function(t){e.showForgetDialog=t}}},[o("forget",{attrs:{visible:e.showForgetDialog,icodes:e.icodes,"default-icode":e.defaultIcode},on:{"update:visible":function(t){e.showForgetDialog=t}}})],1),e._v(" "),o("el-dialog",{staticClass:"registerDialogWrap",attrs:{title:e.$t("login.register"),visible:e.showRegDialog,"custom-class":"registerDialog"},on:{"update:visible":function(t){e.showRegDialog=t}}},[o("el-form",{ref:"regForm",attrs:{model:e.regForm,rules:e.regRules,"label-width":"80px"}},[o("el-form-item",{attrs:{label:e.$t("login.name"),prop:"name"}},[o("el-input",{attrs:{placeholder:e.$t("login.placeholder.name")},model:{value:e.regForm.name,callback:function(t){e.$set(e.regForm,"name",t)},expression:"regForm.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("login.mobile"),prop:"mobile"}},[o("el-select",{staticStyle:{width:"80px"},model:{value:e.regForm.icode,callback:function(t){e.$set(e.regForm,"icode",t)},expression:"regForm.icode"}},e._l(e.icodes,(function(t,r){return o("el-option",{key:r,attrs:{label:"+"+t,value:t}},[o("span",[e._v("+"+e._s(t))])])})),1),e._v(" "),o("el-input",{staticStyle:{width:"calc(100% - 84px)"},attrs:{placeholder:e.$t("login.placeholder.mobile")},model:{value:e.regForm.mobile,callback:function(t){e.$set(e.regForm,"mobile",t)},expression:"regForm.mobile"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("login.password"),prop:"password"}},[o("el-input",{attrs:{placeholder:e.$t("login.placeholder.password"),"show-password":""},model:{value:e.regForm.password,callback:function(t){e.$set(e.regForm,"password",t)},expression:"regForm.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("login.repassword"),prop:"repassword"}},[o("el-input",{attrs:{placeholder:e.$t("login.placeholder.repassword"),"show-password":""},model:{value:e.regForm.repassword,callback:function(t){e.$set(e.regForm,"repassword",t)},expression:"regForm.repassword"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),o("el-button",{on:{click:function(t){e.showRegDialog=!1}}},[e._v(e._s(e.$t("table.cancel")))])],1)],1)],1),e._v(" "),o("canvas",{ref:"canvasbg",attrs:{id:"bg"}})],1)},n=[],i=(o("ac6a"),o("456d"),o("db72")),a=o("1131"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[o("el-form-item",{attrs:{label:e.$t("login.mobile"),prop:"mobile"}},[o("el-select",{staticStyle:{width:"80px"},model:{value:e.form.icode,callback:function(t){e.$set(e.form,"icode",t)},expression:"form.icode"}},e._l(e.icodes,(function(t,r){return o("el-option",{key:r,attrs:{label:"+"+t,value:t}},[o("span",[e._v("+"+e._s(t))])])})),1),e._v(" "),o("el-input",{staticStyle:{width:"calc(100% - 84px)"},attrs:{placeholder:e.$t("login.placeholder.mobile")},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.captcha"),prop:"captcha"}},[o("el-input",{staticStyle:{width:"calc(100% - 200px)"},attrs:{placeholder:e.$t("table.placeholder.captcha")},model:{value:e.form.captcha,callback:function(t){e.$set(e.form,"captcha",t)},expression:"form.captcha"}}),e._v(" "),o("img",{staticStyle:{"vertical-align":"top",cursor:"pointer",height:"36px","border-radius":"4px"},attrs:{src:e.captchaUrl},on:{click:e.refresh}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("table.smscode"),prop:"smscode"}},[o("el-input",{staticStyle:{width:"calc(100% - 200px)"},attrs:{placeholder:e.$t("table.placeholder.smscode")},model:{value:e.form.smscode,callback:function(t){e.$set(e.form,"smscode",t)},expression:"form.smscode"}}),e._v(" "),o("el-button",{attrs:{type:"primary",disabled:e.sending||e.countdown>0},on:{click:e.onSend}},[e._v(e._s(e.countdown>0?e.countdown+e.$t("table.waitSecond"):e.$t("table.send")))])],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("login.newpassword"),prop:"password"}},[o("el-input",{attrs:{placeholder:e.$t("login.placeholder.newpassword"),"show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:e.$t("login.repassword"),prop:"repassword"}},[o("el-input",{attrs:{placeholder:e.$t("login.placeholder.repassword"),"show-password":""},model:{value:e.form.repassword,callback:function(t){e.$set(e.form,"repassword",t)},expression:"form.repassword"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(e._s(e.$t("table.confirm")))]),e._v(" "),o("el-button",{on:{click:e.hidden}},[e._v(e._s(e.$t("table.cancel")))])],1)],1)},l=[],c=o("c24f"),d={name:"Forget",props:{icodes:{type:Array,default:function(){return[]}},visible:{type:Boolean,default:!0},defaultIcode:{type:String,default:"86"}},data:function(){return{form:{mobile:"",icode:"86",username:"",password:"",repassword:"",captcha:"",smscode:""},baseCaptchaUrl:"/api/management/simple/captch",captchaUrl:"",countdown:0,sending:!1,waitSecond:"",rules:{mobile:[{required:!0,trigger:"blur"}],icode:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur"}],repassword:[{required:!0,trigger:"blur"}],captcha:[{required:!0,trigger:"blur"}],smscode:[{required:!0,trigger:"blur"}]}}},watch:{defaultIcode:function(e){this.reset()}},mounted:function(){this.refresh(),this.waitSecond=this.$t("table.waitSecond"),this.reset()},methods:{hidden:function(){this.$emit("update:visible",!1)},refresh:function(){this.captchaUrl=this.baseCaptchaUrl+"?"+Math.random()},reset:function(){this.form={mobile:"",icode:this.$parent.$parent.defaultLang(),username:"",password:"",repassword:"",captcha:"",smscode:""}},onSend:function(){var e=this;this.sending=!0,Object(c["e"])({icode:this.form["icode"],mobile:this.form["mobile"],captcha:this.form["captcha"]}).then((function(t){e.sending=!1,e.countdown=t.data.countdown;var o=function t(){--e.countdown,e.countdown>0&&setTimeout((function(){t()}),1e3)};o()})).catch((function(){e.sending=!1}))},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&Object(c["a"])(e.form).then((function(t){e.reset(),e.hidden(),e.$message({message:t.message||"password modify success",type:"success"})}))}))}}},u=d,p=o("2877"),f=Object(p["a"])(u,s,l,!1,null,null,null),m=f.exports,h=o("50fc"),g=o("7618");function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){return!t||"object"!==Object(g["a"])(t)&&"function"!==typeof t?b(e):t}var v=o("061b"),y=o.n(v),_=o("4d16"),$=o.n(_);function x(e){return x=$.a?y.a:function(e){return e.__proto__||y()(e)},x(e)}var k=o("4aa6"),F=o.n(k),O=o("54b6");function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=F()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(O["a"])(e,t)}o("6c7b");var C=o("d225"),j=o("b0b4"),T=function(){function e(t,o){Object(C["a"])(this,e),this.x=t,this.y=o,this.r=5*Math.random()+1,this._mx=2*Math.random()-1,this._my=2*Math.random()-1}return Object(j["a"])(e,[{key:"drawCircle",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.r,0,360),e.closePath(),e.fillStyle="rgba(150, 150, 150, .6)",e.fill()}},{key:"drawLine",value:function(e,t){var o=this.x-t.x,r=this.y-t.y,n=Math.sqrt(o*o+r*r);n<150&&(e.beginPath(),e.moveTo(this.x,this.y),e.lineTo(t.x,t.y),e.closePath(),e.strokeStyle="rgba(150, 150, 150, 0.1)",e.stroke())}},{key:"move",value:function(e,t){this._mx=this.x<e&&this.x>0?this._mx:-this._mx,this._my=this.y<t&&this.y>0?this._my:-this._my,this.x+=this._mx/2,this.y+=this._my/2}}]),e}(),q=function(e){function t(){return Object(C["a"])(this,t),w(this,x(t).apply(this,arguments))}return S(t,e),Object(j["a"])(t,[{key:"drawCircle",value:function(e){e.beginPath(),this.r=this.r<14&&this.r>1?this.r+(2*Math.random()-1):2,e.arc(this.x,this.y,this.r,0,360),e.closePath(),e.fillStyle="rgba(45, 120, 244, "+parseInt(100*Math.random())/100+")",e.fill()}}]),t}(T);function L(e){window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var t=e.getContext("2d"),o=e.width=e.offsetWidth,r=e.height=e.offsetHeight,n=[],i=new q(0,0),a=function e(){t.clearRect(0,0,o,r);for(var a=0;a<n.length;a++){n[a].move(o,r),n[a].drawCircle(t);for(var s=a+1;s<n.length;s++)n[a].drawLine(t,n[s])}if(i.x){i.drawCircle(t);for(var l=1;l<n.length;l++)i.drawLine(t,n[l])}requestAnimationFrame(e)},s=function(e){for(var t=0;t<e;t++)n.push(new T(Math.random()*o,Math.random()*r));a()};window.addEventListener("load",s(80))}var D=o("9923"),P=o("2f62"),R={name:"Login",components:{LangSelect:a["a"],Forget:m},data:function(){var e=this,t=function(t,o,r){!o||o.length<2?r(new Error(e.$t("login.validNname"))):r()},o=function(t,o,r){o.length<6?r(new Error(e.$t("login.validPasswd"))):r()},r=function(t,o,r){o!==e.regForm["password"]?r(new Error(e.$t("login.validRePasswd"))):r()};return{loginForm:{icode:"86",username:"",password:""},icodes:[],defaultIcode:"86",loginRules:{password:[{required:!0,trigger:"blur",validator:o}]},regRules:{name:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:o}],mobile:[{required:!0,trigger:"blur"}],repassword:[{required:!0,trigger:"blur",validator:r}]},regForm:{name:"",username:"",password:"",repassword:"",mobile:"",icode:"86"},showForgetDialog:!1,showRegDialog:!1,passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},computed:Object(i["a"])({},Object(P["c"])("app",["language"])),watch:{language:{handler:function(e){this.defaultIcode=this.defaultLang(),this.$set(this.regForm,"icode",this.defaultIcode),this.$set(this.loginForm,"icode",this.defaultIcode)}},$route:{handler:function(e){var t=e.query;t&&(this.redirect=t.redirect,this.otherQuery=this.getOtherQuery(t))},immediate:!0}},created:function(){var e="1,1264,1268,1242,1246,1441,1284,1345,1684,1767,1809,1473,1876,1664,1787,1939,1869,1758,1784,1868,1649,1340,1671,1670,20,211,212,213,216,218,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,27,290,291,297,298,299,30,31,32,33,34,350,351,352,353,354,355,356,357,358,359,36,37,370,371,372,373,374,375,376,377,378,379,38,380,381,382,385,386,387,388,389,39,40,41,42,420,421,423,43,44,45,46,47,48,49,500,501,502,503,504,505,506,507,508,509,51,52,53,54,55,56,57,58,590,591,592,593,594,595,596,597,598,599,599,5999,60,61,62,63,64,65,66,670,672,673,674,675,676,677,678,679,680,681,682,683,685,686,687,688,689,690,691,692,7,81,82,84,850,852,853,855,856,86,870,878,880,881,882,886,90,91,92,93,94,95,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,979,98,991,992,993,994,995,996,998";this.icodes=e.split(","),this.$set(this.regForm,"icode",this.defaultLang()),this.$set(this.loginForm,"icode",this.defaultLang())},mounted:function(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus(),L(this.$refs.canvasbg)},destroyed:function(){},methods:{defaultLang:function(){var e={"zh-CN":"86","en-US":"1",zh_tw:"886",ja:"81"},t=Object(D["a"])();return e[t]?e[t]:"86"},onSubmit:function(){var e=this;this.$refs.regForm.validate((function(t){var o=e.regForm;if(o.username=o.mobile,!t)return!1;Object(h["b"])(e.regForm).then((function(t){e.showRegDialog=!1,e.$notify({title:e.$t("table.successTitle"),message:t.message||e.$t("table.createSuccess"),type:"success"}),setTimeout((function(){e.regForm={name:"",username:"",password:"",repassword:"",mobile:"",icode:e.defaultLang()}}),1500)}))}))},checkCapslock:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shiftKey,o=e.key;o&&1===o.length&&(this.capsTooltip=!!(t&&o>="a"&&o<="z"||!t&&o>="A"&&o<="Z")),"CapsLock"===o&&!0===this.capsTooltip&&(this.capsTooltip=!1)},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/",query:e.otherQuery}),e.$router.go(0),e.loading=!1})).catch((function(){e.loading=!1}))}))},getOtherQuery:function(e){return Object.keys(e).reduce((function(t,o){return"redirect"!==o&&(t[o]=e[o]),t}),{})}}},A=R,E=(o("2017"),o("53b0"),o("49b2"),Object(p["a"])(A,r,n,!1,null,"dec943da",null));t["default"]=E.exports},b0b4:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));var r=o("85f2"),n=o.n(r);function i(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),n()(e,r.key,r)}}function a(e,t,o){return t&&i(e.prototype,t),o&&i(e,o),e}},b12d:function(e,t,o){},d225:function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}o.d(t,"a",(function(){return r}))},dc62:function(e,t,o){o("9427");var r=o("584a").Object;e.exports=function(e,t){return r.create(e,t)}},dee5:function(e,t,o){},e94c:function(e,t,o){},ead6:function(e,t,o){var r=o("f772"),n=o("e4ae"),i=function(e,t){if(n(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{r=o("d864")(Function.call,o("bf0b").f(Object.prototype,"__proto__").set,2),r(e,[]),t=!(e instanceof Array)}catch(n){t=!0}return function(e,o){return i(e,o),t?e.__proto__=o:r(e,o),e}}({},!1):void 0),check:i}},fa99:function(e,t,o){o("0293"),e.exports=o("584a").Object.getPrototypeOf}}]);